import{r,j as s,a as t,L as x}from"./index.05118d1c.js";import{f,a as b}from"./fallbackimage.854df948.js";const P=()=>{const[n,i]=r.exports.useState([]),[m,c]=r.exports.useState(!0),[o,d]=r.exports.useState(1),[p,g]=r.exports.useState(1),u=50,h=async e=>{c(!0);try{const a=await b.get(`https://primaryprop-backend.onrender.com/api/listings?page=${e}`);i(a.data.listings),g(Math.ceil(a.data.totalCount/u)||e),c(!1)}catch(a){console.error("Failed to load listings:",a),c(!1)}};return r.exports.useEffect(()=>{h(o)},[o]),m?s("div",{className:"p-4 text-center",children:"Loading listings..."}):t("div",{className:"p-4",children:[s("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:n.map(e=>{var a,l;return s(x,{to:`/property/${e.id}`,children:t("div",{className:"border rounded-2xl shadow-md p-4 hover:shadow-lg transition",children:[s("img",{src:((a=e.images)==null?void 0:a[0])||f,alt:e.address,className:"w-full h-48 object-cover rounded-xl mb-3"}),s("h2",{className:"text-xl font-semibold",children:e.address}),t("p",{className:"text-gray-700",children:[e.type," \u2022 ",e.status]}),t("p",{className:"mt-1 text-lg font-bold text-green-600",children:["$",(l=e.price)==null?void 0:l.toLocaleString()]}),t("p",{className:"text-sm text-gray-500",children:[e.bedrooms," Beds \u2022 ",e.bathrooms," Baths \u2022"," ",e.area," sqft"]})]})},e.id)})}),t("div",{className:"flex justify-center items-center gap-4",children:[s("button",{onClick:()=>d(e=>Math.max(e-1,1)),disabled:o===1,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50",children:"Previous"}),t("span",{className:"font-medium",children:["Page ",o," of ",p]}),s("button",{onClick:()=>d(e=>e+1),className:"px-4 py-2 bg-gray-200 rounded",children:"Next"})]})]})};export{P as default};
